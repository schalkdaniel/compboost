<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="compboost">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Production mode â€¢ compboost</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Production mode">
<meta property="og:description" content="compboost">
<meta property="og:image" content="https://schalkdaniel.github.io/compboost/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">compboost</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-getting-started">Getting Started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-getting-started">
    <a class="dropdown-item" href="../articles/basic-about-cwb.html">About Component-Wise Boosting</a>
    <a class="dropdown-item" href="../articles/basic-use-case.html">First Use-Case</a>
    <a class="dropdown-item" href="../articles/basic-early-stopping.html">Early Stopping</a>
    <a class="dropdown-item" href="../articles/basic-robust-reg.html">Quantile Regression</a>
    <a class="dropdown-item" href="../articles/basic-obj-refs.html">Reference Based Objects of Compboost</a>
    <a class="dropdown-item" href="../articles/basic-viz.html">Visualizing Compboost</a>
    <a class="dropdown-item" href="../articles/basic-production-model.html">Production model</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-advanced-topics">Advanced Topics</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-advanced-topics">
    <a class="dropdown-item" href="../articles/adv-extending-losses.html">Extending losses</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-functionality">Functionality</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-functionality">
    <a class="dropdown-item" href="../articles/fct-baselearner.html">Base-Learner</a>
    <a class="dropdown-item" href="../articles/fct-loss.html">Loss Functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/schalkdaniel/compboost">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>

        
        
        
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Production mode</h1>
            
      
      
      <div class="d-none name"><code>basic-production-model.Rmd</code></div>
    </div>

    
    
<pre><code><span><span class="co">## Loading required package: mlr3</span></span></code></pre>
<p>Storing the complete [Compboost] object requires to save a lot of
data:</p>
<ul>
<li>Data matrices of the raw data.</li>
<li>Transformed data matrices. Each base learner creates a design matrix
with (potentially) multiple columns.</li>
</ul>
<p>Hence, <code>compboost</code> allows to store the model without the
data. Within this vignettes, this is also called production mode since
it is the more practical case when running the model in production.</p>
<div class="section level2">
<h2 id="store-model-without-data">Store model without data<a class="anchor" aria-label="anchor" href="#store-model-without-data"></a>
</h2>
<p>To do so, just call:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">=</span> <span class="fu">mlr3</span><span class="fu">::</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">tsk</a></span><span class="op">(</span><span class="st">"sonar"</span><span class="op">)</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">cboost</span> <span class="op">=</span> <span class="fu"><a href="../reference/boostSplines.html">boostSplines</a></span><span class="op">(</span><span class="va">dat</span>, <span class="st">"Class"</span>, oob_fraction <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="co">#&gt;   1/100   risk = 0.69  oob_risk = 0.68   time = 0   </span></span>
<span><span class="co">#&gt;   2/100   risk = 0.68  oob_risk = 0.67   time = 1031   </span></span>
<span><span class="co">#&gt;   4/100   risk = 0.68  oob_risk = 0.67   time = 2801   </span></span>
<span><span class="co">#&gt;   6/100   risk = 0.67  oob_risk = 0.67   time = 4597   </span></span>
<span><span class="co">#&gt;   8/100   risk = 0.66  oob_risk = 0.66   time = 6368   </span></span>
<span><span class="co">#&gt;  10/100   risk = 0.65  oob_risk = 0.66   time = 28910   </span></span>
<span><span class="co">#&gt;  12/100   risk = 0.65  oob_risk = 0.65   time = 30700   </span></span>
<span><span class="co">#&gt;  14/100   risk = 0.64  oob_risk = 0.65   time = 32491   </span></span>
<span><span class="co">#&gt;  16/100   risk = 0.63  oob_risk = 0.65   time = 34251   </span></span>
<span><span class="co">#&gt;  18/100   risk = 0.63  oob_risk = 0.64   time = 36035   </span></span>
<span><span class="co">#&gt;  20/100   risk = 0.62  oob_risk = 0.64   time = 37795   </span></span>
<span><span class="co">#&gt;  22/100   risk = 0.62  oob_risk = 0.64   time = 39604   </span></span>
<span><span class="co">#&gt;  24/100   risk = 0.61  oob_risk = 0.64   time = 41355   </span></span>
<span><span class="co">#&gt;  26/100   risk = 0.61  oob_risk = 0.63   time = 43118   </span></span>
<span><span class="co">#&gt;  28/100   risk = 0.6  oob_risk = 0.63   time = 44922   </span></span>
<span><span class="co">#&gt;  30/100   risk = 0.6  oob_risk = 0.63   time = 46684   </span></span>
<span><span class="co">#&gt;  32/100   risk = 0.59  oob_risk = 0.63   time = 48451   </span></span>
<span><span class="co">#&gt;  34/100   risk = 0.59  oob_risk = 0.62   time = 50201   </span></span>
<span><span class="co">#&gt;  36/100   risk = 0.59  oob_risk = 0.62   time = 51955   </span></span>
<span><span class="co">#&gt;  38/100   risk = 0.58  oob_risk = 0.62   time = 53825   </span></span>
<span><span class="co">#&gt;  40/100   risk = 0.58  oob_risk = 0.62   time = 55695   </span></span>
<span><span class="co">#&gt;  42/100   risk = 0.57  oob_risk = 0.62   time = 57628   </span></span>
<span><span class="co">#&gt;  44/100   risk = 0.57  oob_risk = 0.62   time = 59483   </span></span>
<span><span class="co">#&gt;  46/100   risk = 0.57  oob_risk = 0.61   time = 61227   </span></span>
<span><span class="co">#&gt;  48/100   risk = 0.56  oob_risk = 0.61   time = 63011   </span></span>
<span><span class="co">#&gt;  50/100   risk = 0.56  oob_risk = 0.61   time = 64773   </span></span>
<span><span class="co">#&gt;  52/100   risk = 0.56  oob_risk = 0.61   time = 66675   </span></span>
<span><span class="co">#&gt;  54/100   risk = 0.55  oob_risk = 0.61   time = 68452   </span></span>
<span><span class="co">#&gt;  56/100   risk = 0.55  oob_risk = 0.61   time = 70224   </span></span>
<span><span class="co">#&gt;  58/100   risk = 0.55  oob_risk = 0.6   time = 72093   </span></span>
<span><span class="co">#&gt;  60/100   risk = 0.55  oob_risk = 0.6   time = 73913   </span></span>
<span><span class="co">#&gt;  62/100   risk = 0.54  oob_risk = 0.6   time = 75753   </span></span>
<span><span class="co">#&gt;  64/100   risk = 0.54  oob_risk = 0.6   time = 77512   </span></span>
<span><span class="co">#&gt;  66/100   risk = 0.54  oob_risk = 0.6   time = 79243   </span></span>
<span><span class="co">#&gt;  68/100   risk = 0.54  oob_risk = 0.6   time = 80964   </span></span>
<span><span class="co">#&gt;  70/100   risk = 0.53  oob_risk = 0.6   time = 82723   </span></span>
<span><span class="co">#&gt;  72/100   risk = 0.53  oob_risk = 0.6   time = 84496   </span></span>
<span><span class="co">#&gt;  74/100   risk = 0.53  oob_risk = 0.59   time = 86256   </span></span>
<span><span class="co">#&gt;  76/100   risk = 0.53  oob_risk = 0.59   time = 88074   </span></span>
<span><span class="co">#&gt;  78/100   risk = 0.52  oob_risk = 0.59   time = 89826   </span></span>
<span><span class="co">#&gt;  80/100   risk = 0.52  oob_risk = 0.59   time = 91583   </span></span>
<span><span class="co">#&gt;  82/100   risk = 0.52  oob_risk = 0.59   time = 93330   </span></span>
<span><span class="co">#&gt;  84/100   risk = 0.52  oob_risk = 0.59   time = 95091   </span></span>
<span><span class="co">#&gt;  86/100   risk = 0.51  oob_risk = 0.59   time = 96842   </span></span>
<span><span class="co">#&gt;  88/100   risk = 0.51  oob_risk = 0.59   time = 98621   </span></span>
<span><span class="co">#&gt;  90/100   risk = 0.51  oob_risk = 0.58   time = 100389   </span></span>
<span><span class="co">#&gt;  92/100   risk = 0.51  oob_risk = 0.58   time = 102140   </span></span>
<span><span class="co">#&gt;  94/100   risk = 0.51  oob_risk = 0.58   time = 103903   </span></span>
<span><span class="co">#&gt;  96/100   risk = 0.5  oob_risk = 0.58   time = 105648   </span></span>
<span><span class="co">#&gt;  98/100   risk = 0.5  oob_risk = 0.58   time = 107404   </span></span>
<span><span class="co">#&gt; 100/100   risk = 0.5  oob_risk = 0.58   time = 109152   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Train 100 iterations in 0 Seconds.</span></span>
<span><span class="co">#&gt; Final risk based on the train set: 0.5</span></span>
<span></span>
<span><span class="va">file</span> <span class="op">=</span> <span class="st">"cboost.json"</span></span>
<span><span class="va">cboost</span><span class="op">$</span><span class="fu">saveToJson</span><span class="op">(</span><span class="va">file</span>, rm_data <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cboost_without_data</span> <span class="op">=</span> <span class="va"><a href="../reference/Compboost.html">Compboost</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>file <span class="op">=</span> <span class="va">file</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The data field now just contains a dummy:</span></span>
<span><span class="va">cboost_without_data</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt;   V1 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V2 V20 V21 V22 V23 V24 V25 V26 V27</span></span>
<span><span class="co">#&gt; 1  0   0   0   0   0   0   0   0   0   0   0  0   0   0   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt;   V28 V29 V3 V30 V31 V32 V33 V34 V35 V36 V37 V38 V39 V4 V40 V41 V42 V43 V44 V45</span></span>
<span><span class="co">#&gt; 1   0   0  0   0   0   0   0   0   0   0   0   0   0  0   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt;   V46 V47 V48 V49 V5 V50 V51 V52 V53 V54 V55 V56 V57 V58 V59 V6 V60 V7 V8 V9</span></span>
<span><span class="co">#&gt; 1   0   0   0   0  0   0   0   0   0   0   0   0   0   0   0  0   0  0  0  0</span></span></code></pre></div>
<p><strong>Note:</strong> It is not possible to use any functionality
that requires the training data when storing and loading the object
without data. For example, <code>cboost$predict()</code> now throws an
error:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): Production mode is on, this does not allow prediction on training data and hence also blocks the continuation of the training. This is most likely because the training data was removed to either store memory or due to privacy reasons.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="functionality-of-a-data-free-model">Functionality of a data free model<a class="anchor" aria-label="anchor" href="#functionality-of-a-data-free-model"></a>
</h2>
<p>The most important functions are still usable:</p>
<div class="section level3">
<h3 id="extracting-feature-importance-">Extracting feature importance.<a class="anchor" aria-label="anchor" href="#extracting-feature-importance-"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vip</span> <span class="op">=</span> <span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">calculateFeatureImportance</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="predict-on-new-data">Predict on new data<a class="anchor" aria-label="anchor" href="#predict-on-new-data"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ndat</span> <span class="op">=</span> <span class="va">dat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span></span>
<span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="va">ndat</span><span class="op">)</span></span>
<span><span class="co">#&gt;              [,1]</span></span>
<span><span class="co">#&gt;  [1,] -0.41796785</span></span>
<span><span class="co">#&gt;  [2,] -0.48002119</span></span>
<span><span class="co">#&gt;  [3,] -1.15113069</span></span>
<span><span class="co">#&gt;  [4,] -0.44919599</span></span>
<span><span class="co">#&gt;  [5,] -0.00632156</span></span>
<span><span class="co">#&gt;  [6,]  0.49942803</span></span>
<span><span class="co">#&gt;  [7,] -0.35688732</span></span>
<span><span class="co">#&gt;  [8,]  0.79352103</span></span>
<span><span class="co">#&gt;  [9,] -0.52781537</span></span>
<span><span class="co">#&gt; [10,] -1.03904153</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualize-partial-feature-effects-">Visualize partial feature effects.<a class="anchor" aria-label="anchor" href="#visualize-partial-feature-effects-"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use most important base learner:</span></span>
<span><span class="va">bln</span> <span class="op">=</span> <span class="va">vip</span><span class="op">$</span><span class="va">baselearner</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="fu"><a href="../reference/plotBaselearner.html">plotBaselearner</a></span><span class="op">(</span><span class="va">cboost_without_data</span>, <span class="va">bln</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/plotPEUni.html">plotPEUni</a></span><span class="op">(</span><span class="va">cboost_without_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">bln</span>, <span class="st">"_"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="basic-production-model_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="get-logger-data">Get logger data<a class="anchor" aria-label="anchor" href="#get-logger-data"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">getLoggerData</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   _iterations  oob_risk time baselearner train_risk</span></span>
<span><span class="co">#&gt; 1           0        NA   NA   intercept  0.6927718</span></span>
<span><span class="co">#&gt; 2           1 0.6774378    0  V12_spline  0.6884736</span></span>
<span><span class="co">#&gt; 3           2 0.6748755 1031  V12_spline  0.6842779</span></span>
<span><span class="co">#&gt; 4           3 0.6723938 1932  V12_spline  0.6801822</span></span>
<span><span class="co">#&gt; 5           4 0.6699904 2801  V12_spline  0.6761840</span></span>
<span><span class="co">#&gt; 6           5 0.6676632 3714  V12_spline  0.6722811</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="setting-the-model-to-a-previous-iteration-">Setting the model to a previous iteration.<a class="anchor" aria-label="anchor" href="#setting-the-model-to-a-previous-iteration-"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">getSelectedBaselearner</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; V11_spline V12_spline V21_spline V49_spline V55_spline  V9_spline </span></span>
<span><span class="co">#&gt;         14         49         11          3          7         16</span></span>
<span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="va">ndat</span><span class="op">)</span></span>
<span><span class="co">#&gt;              [,1]</span></span>
<span><span class="co">#&gt;  [1,] -0.41796785</span></span>
<span><span class="co">#&gt;  [2,] -0.48002119</span></span>
<span><span class="co">#&gt;  [3,] -1.15113069</span></span>
<span><span class="co">#&gt;  [4,] -0.44919599</span></span>
<span><span class="co">#&gt;  [5,] -0.00632156</span></span>
<span><span class="co">#&gt;  [6,]  0.49942803</span></span>
<span><span class="co">#&gt;  [7,] -0.35688732</span></span>
<span><span class="co">#&gt;  [8,]  0.79352103</span></span>
<span><span class="co">#&gt;  [9,] -0.52781537</span></span>
<span><span class="co">#&gt; [10,] -1.03904153</span></span>
<span></span>
<span><span class="co"># State after 50 iteration:</span></span>
<span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">train</span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">getSelectedBaselearner</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; V11_spline V12_spline  V9_spline </span></span>
<span><span class="co">#&gt;         11         34          5</span></span>
<span><span class="va">cboost_without_data</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="va">ndat</span><span class="op">)</span></span>
<span><span class="co">#&gt;             [,1]</span></span>
<span><span class="co">#&gt;  [1,] -0.2841372</span></span>
<span><span class="co">#&gt;  [2,] -0.2297858</span></span>
<span><span class="co">#&gt;  [3,] -0.9509643</span></span>
<span><span class="co">#&gt;  [4,] -0.2329290</span></span>
<span><span class="co">#&gt;  [5,]  0.2018874</span></span>
<span><span class="co">#&gt;  [6,]  0.4227858</span></span>
<span><span class="co">#&gt;  [7,] -0.3545490</span></span>
<span><span class="co">#&gt;  [8,]  0.6089655</span></span>
<span><span class="co">#&gt;  [9,] -0.4050147</span></span>
<span><span class="co">#&gt; [10,] -0.6492520</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advantages">Advantages<a class="anchor" aria-label="anchor" href="#advantages"></a>
</h2>
<div class="section level3">
<h3 id="size">Size<a class="anchor" aria-label="anchor" href="#size"></a>
</h3>
<p>The size of the model and <code>JSON</code> file is much smaller when
the data is not stored.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_full</span> <span class="op">=</span> <span class="st">"cboost_full.json"</span></span>
<span><span class="va">cboost</span><span class="op">$</span><span class="fu">saveToJson</span><span class="op">(</span><span class="va">file_full</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/file.info.html" class="external-link">file.info</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span><span class="op">$</span><span class="va">size</span> <span class="op">/</span> <span class="fl">1024</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="co">#&gt; [1] 1.293517</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/file.info.html" class="external-link">file.info</a></span><span class="op">(</span><span class="va">file_full</span><span class="op">)</span><span class="op">$</span><span class="va">size</span> <span class="op">/</span> <span class="fl">1024</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="co">#&gt; [1] 3.335601</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loading">Loading<a class="anchor" aria-label="anchor" href="#loading"></a>
</h3>
<p>Loading a model is much faster (maybe not that striking for smaller
models):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va"><a href="../reference/Compboost.html">Compboost</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>file <span class="op">=</span> <span class="va">file</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.116   0.000   0.116</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va"><a href="../reference/Compboost.html">Compboost</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>file <span class="op">=</span> <span class="va">file_full</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.166   0.000   0.166</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="privacy">Privacy<a class="anchor" aria-label="anchor" href="#privacy"></a>
</h3>
<p>Raw data is not shared unintentionally with third parties. This is
especially striking for domains that works with sensitive data.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="copyright">
  <p></p>
<p>Developed by Daniel Schalk, Janek Thomas, Bernd Bischl.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
