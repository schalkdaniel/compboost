<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C++ Implementation of Component-Wise Boosting • compboost</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="C++ Implementation of Component-Wise Boosting">
<meta property="og:description" content="C++ implementation of component-wise boosting to
  obtain high runtime performance and full memory control. The main
  idea is to provide a modular class system which can be extended
  without editing the source code. Therefore, it is possible to use R
  functions as well as C++ functions for custom base-learners,
  losses, logging mechanisms or stopping criteria.">
<meta property="og:image" content="https://schalkdaniel.github.io/compboost/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">compboost</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Getting Started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/getting_started/about_cboosting.html">About Component-Wise Boosting</a>
    </li>
    <li>
      <a href="articles/getting_started/use_case.html">First Use-Case</a>
    </li>
    <li>
      <a href="articles/getting_started/early_stopping.html">Early Stopping</a>
    </li>
    <li>
      <a href="articles/getting_started/robust_regression.html">Quantile Regression</a>
    </li>
    <li>
      <a href="articles/getting_started/object_references.html">Reference Based Objects of Compboost</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced Topics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/advanced/ext_losses.html">Extending Losses</a>
    </li>
    <li>
      <a href="articles/advanced/ext_blearner.html">Extending Base-Learner</a>
    </li>
    <li>
      <a href="articles/advanced/log_performance.html">Logging Performance Measures</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Functionality
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/functionality/baselearner.html">Base-Learner</a>
    </li>
    <li>
      <a href="articles/functionality/loss.html">Loss Functions</a>
    </li>
    <li>
      <a href="articles/functionality/logger.html">Logger</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/schalkdaniel/compboost">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="compboost-fast-and-flexible-component-wise-boosting-framework" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#compboost-fast-and-flexible-component-wise-boosting-framework" class="anchor"></a>compboost: Fast and Flexible Component-Wise Boosting Framework <a href="https://danielschalk.com/compboost/"><img src="reference/figures/logo.png" align="right" height="139"></a>
</h1></div>

<p><a href="https://danielschalk.com/compboost/">Documentation</a> | <a href="CONTRIBUTORS.html">Contributors</a> | <a href="NEWS.html">Release Notes</a></p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>Component-wise boosting applies the boosting framework to statistical models, e.g., general additive models using component-wise smoothing splines. Boosting these kinds of models maintains interpretability and enables unbiased model selection in high dimensional feature spaces.</p>
<p>The <code>R</code> package <code>compboost</code> is an alternative implementation of component-wise boosting written in <code>C++</code> to obtain high runtime performance and full memory control. The main idea is to provide a modular class system which can be extended without editing the source code. Therefore, it is possible to use <code>R</code> functions as well as <code>C++</code> functions for custom base-learners, losses, logging mechanisms or stopping criteria.</p>
<p>For an introduction and overview about the functionality visit the <a href="https://schalkdaniel.github.io/compboost/">project page</a>.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div id="cran-version" class="section level4">
<h4 class="hasAnchor">
<a href="#cran-version" class="anchor"></a>CRAN version:</h4>
<p>Currently no CRAN version. The package will be soon updated and uploaded to CRAN again.</p>
</div>
<div id="developer-version" class="section level4">
<h4 class="hasAnchor">
<a href="#developer-version" class="anchor"></a>Developer version:</h4>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"schalkdaniel/compboost"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>The examples are rendered using <code>compboost 0.1.1</code>.</p>
<p>The fastest way to train a <code>Compboost</code> model is to use the wrapper functions <code><a href="reference/boostLinear.html">boostLinear()</a></code> or <code><a href="reference/boostSplines.html">boostSplines()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cboost</span> <span class="op">=</span> <span class="fu"><a href="reference/boostSplines.html">boostSplines</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">iris</span>, target <span class="op">=</span> <span class="st">"Sepal.Length"</span>, loss <span class="op">=</span> <span class="va"><a href="reference/LossQuadratic.html">LossQuadratic</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>For more extensive examples and how to use the <code>R6</code> interface visit the <a href="https://danielschalk.com/compboost/articles/getting_started/use_case.html">project page</a>.</p>
<!--

To be as flexible as possible one should use the `R6` API to define base-learner, losses, stopping criteria, or optimizer as desired. Another option is to use wrapper functions as described on the [project page](https://schalkdaniel.github.io/compboost/).


```r
library(compboost)

# Check installed version:
packageVersion("compboost")
#> [1] '0.1.1'

# Load data set with binary classification task:
data(PimaIndiansDiabetes, package = "mlbench")
# Create categorical feature:
PimaIndiansDiabetes$pregnant_cat = ifelse(PimaIndiansDiabetes$pregnant == 0, "no", "yes")

# Define Compboost object:
cboost = Compboost$new(data = PimaIndiansDiabetes, target = "diabetes", loss = LossBinomial$new())
cboost
#> 
#> Component-Wise Gradient Boosting
#> 
#> Trained on PimaIndiansDiabetes with target diabetes
#> Number of base-learners: 0
#> Learning rate: 0.05
#> Iterations: 0
#> 
#> LossBinomial Loss:
#> 
#>   Loss function: L(y,x) = log(1 + exp(-2yf(x))
#> 
#> 

# Add p-spline base-learner with default parameter:
cboost$addBaselearner(feature = "pressure", id = "spline", bl_factory = BaselearnerPSpline)

# Add another p-spline learner with custom parameters:
cboost$addBaselearner(feature = "age", id = "spline", bl_factory = BaselearnerPSpline, degree = 3,
  n_knots = 10, penalty = 4, differences = 2)

# Add categorical feature (as single linear base-learner):
cboost$addBaselearner(feature = "pregnant_cat", id = "category", bl_factory = BaselearnerPolynomial,
  degree = 1, intercept = FALSE)

# Check all registered base-learner:
cboost$getBaselearnerNames()
#> [1] "pressure_spline"           "age_spline"               
#> [3] "pregnant_cat_yes_category" "pregnant_cat_no_category"

# Train model:
cboost$train(1000L, trace = 200L)
#>    1/1000   risk = 0.68  
#>  200/1000   risk = 0.65  
#>  400/1000   risk = 0.64  
#>  600/1000   risk = 0.64  
#>  800/1000   risk = 0.64  
#> 1000/1000   risk = 0.64  
#> 
#> 
#> Train 1000 iterations in 0 Seconds.
#> Final risk based on the train set: 0.64
cboost
#> Component-Wise Gradient Boosting
#> 
#> Trained on PimaIndiansDiabetes with target diabetes
#> Number of base-learners: 4
#> Learning rate: 0.05
#> Iterations: 1000
#> Offset: 0.3118
#> 
#> LossBinomial Loss:
#> 
#>   Loss function: L(y,x) = log(1 + exp(-2yf(x))
#> 
#> 

cboost$getBaselearnerNames()
#> [1] "pressure_spline"           "age_spline"               
#> [3] "pregnant_cat_yes_category" "pregnant_cat_no_category"

selected_features = cboost$getSelectedBaselearner()
table(selected_features)
#> selected_features
#>               age_spline pregnant_cat_no_category          pressure_spline 
#>                      448                      130                      422

params = cboost$getEstimatedCoef()
str(params)
#> List of 4
#>  $ age_spline              : num [1:14, 1] 3.717 1.5152 0.669 -0.6627 -0.0277 ...
#>  $ pregnant_cat_no_category: num [1, 1] -0.41
#>  $ pressure_spline         : num [1:24, 1] -0.969 -0.403 0.14 0.537 0.644 ...
#>  $ offset                  : num 0.312

cboost$train(3000)
#> 
#> You have already trained 1000 iterations.
#> Train 2000 additional iterations.
#> 
#> 1050/3000   risk = 0.64  
#> 1125/3000   risk = 0.64  
#> 1200/3000   risk = 0.64  
#> 1275/3000   risk = 0.64  
#> 1350/3000   risk = 0.64  
#> 1425/3000   risk = 0.64  
#> 1500/3000   risk = 0.64  
#> 1575/3000   risk = 0.64  
#> 1650/3000   risk = 0.64  
#> 1725/3000   risk = 0.64  
#> 1800/3000   risk = 0.64  
#> 1875/3000   risk = 0.64  
#> 1950/3000   risk = 0.64  
#> 2025/3000   risk = 0.64  
#> 2100/3000   risk = 0.64  
#> 2175/3000   risk = 0.64  
#> 2250/3000   risk = 0.64  
#> 2325/3000   risk = 0.64  
#> 2400/3000   risk = 0.64  
#> 2475/3000   risk = 0.64  
#> 2550/3000   risk = 0.64  
#> 2625/3000   risk = 0.64  
#> 2700/3000   risk = 0.64  
#> 2775/3000   risk = 0.64  
#> 2850/3000   risk = 0.64  
#> 2925/3000   risk = 0.64  
#> 3000/3000   risk = 0.64

cboost$plot("age_spline", iters = c(100, 500, 1000, 2000, 3000)) +
  ggthemes::theme_tufte() +
  ggplot2::scale_color_brewer(palette = "Spectral")
```
<p align="center">
  <img src="Readme_files/cboost-1.png" width="70%" />
</p>
 -->
</div>
<div id="benchmark" class="section level2">
<h2 class="hasAnchor">
<a href="#benchmark" class="anchor"></a>Benchmark</h2>
<p>To get an idea of the performance of compboost, we have conducted a small benchmark in which compboost is compared with mboost. For this purpose, the runtime behavior and memory consumption of the two packages were compared. The results of the benchmark can be read <a href="https://github.com/schalkdaniel/compboost/tree/master/benchmark">here</a>.</p>
</div>
<div id="citing" class="section level2">
<h2 class="hasAnchor">
<a href="#citing" class="anchor"></a>Citing</h2>
<p>To cite <code>compboost</code> in publications, please use:</p>
<blockquote>
<p>Schalk et al., (2018). compboost: Modular Framework for Component-Wise Boosting. Journal of Open Source Software, 3(30), 967, <a href="https://doi.org/10.21105/joss.00967" class="uri">https://doi.org/10.21105/joss.00967</a></p>
</blockquote>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="op">@</span>article{schalk2018compboost,</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  author =<span class="st"> </span>{Daniel Schalk, Janek Thomas, Bernd Bischl},</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  title =<span class="st"> </span>{compboost<span class="op">:</span><span class="st"> </span>Modular Framework <span class="cf">for</span> Component<span class="op">-</span>Wise Boosting},</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  URL =<span class="st"> </span>{https<span class="op">:</span><span class="er">//</span>doi.org<span class="op">/</span><span class="fl">10.21105</span><span class="op">/</span>joss<span class="fl">.00967</span>},</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  year =<span class="st"> </span>{<span class="dv">2018</span>},</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  publisher =<span class="st"> </span>{Journal of Open Source Software},</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  volume =<span class="st"> </span>{<span class="dv">3</span>},</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">  number =<span class="st"> </span>{<span class="dv">30</span>},</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">  pages =<span class="st"> </span>{<span class="dv">967</span>},</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">  journal =<span class="st"> </span>{JOSS}</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">}</a></code></pre></div>
</div>
<div id="testing" class="section level2">
<h2 class="hasAnchor">
<a href="#testing" class="anchor"></a>Testing</h2>
<div id="on-your-local-machine" class="section level3">
<h3 class="hasAnchor">
<a href="#on-your-local-machine" class="anchor"></a>On your local machine</h3>
<p>In order to test the pacakge functionality you can use devtools to test the pacakge on your local machine:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/test.html">test</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="using-docker" class="section level3">
<h3 class="hasAnchor">
<a href="#using-docker" class="anchor"></a>Using docker</h3>
<p>You can test the package locally using docker and the <a href="https://hub.docker.com/r/schalkdaniel/compboost-test/"><code>compboost-test</code> repository</a>:</p>
<ul>
<li>
<p>Latest <code>R</code> release:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">docker run schalkdaniel<span class="op">/</span>compboost<span class="op">-</span>test</a></code></pre></div>
</li>
<li>
<p>Latest <code>R</code> devel build:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">docker run schalkdaniel<span class="op">/</span>compboost<span class="op">-</span>test<span class="op">:</span>devel</a></code></pre></div>
</li>
</ul>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=compboost">https://​cloud.r-project.org/​package=compboost</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing compboost</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Daniel Schalk <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0950-1947" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Janek Thomas <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-4511-6245" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Bernd Bischl <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-6002-6980" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/schalkdaniel/compboost"><img src="https://travis-ci.org/schalkdaniel/compboost.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/schalkdaniel/compboost"><img src="https://ci.appveyor.com/api/projects/status/github/schalkdaniel/compboost?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://coveralls.io/github/schalkdaniel/compboost?branch=master"><img src="https://coveralls.io/repos/github/schalkdaniel/compboost/badge.svg?branch=master" alt="Coverage Status"></a></li>
<li><a href="#license"><img src="https://img.shields.io/github/license/mashape/apistatus.svg?maxAge=2592000" alt="license"></a></li>
<li><a href="https://cran.r-project.org/package=compboost"><img src="http://www.r-pkg.org/badges/version/compboost" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=compboost"><img src="https://tinyverse.netlify.com/badge/compboost" alt="Dependencies"></a></li>
<li><a href="http://joss.theoj.org/papers/94cfdbbfdfc8796c5bdb1a74ee59fcda"><img src="http://joss.theoj.org/papers/94cfdbbfdfc8796c5bdb1a74ee59fcda/status.svg" alt="status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Daniel Schalk, Janek Thomas, Bernd Bischl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
